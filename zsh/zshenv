setopt no_global_rcs

# home
if [[ "$OSTYPE" == "darwin"* ]]; then
  export HOME="/Users/$(whoami)"
fi

# lang
export LANG="en_US.UTF-8"
export LC_ALL="en_US.UTF-8"

# history
export HISTSIZE=32768
export HISTFILESIZE=$HISTSIZE
export HISTCONTROL=ignoredups
export HISTIGNORE="ls:cd:cd -:pwd:exit:date:* --help"

# misc
export EDITOR="vim"
export GREP_OPTIONS="--color=auto"
# don't clear the screen after quitting a manual page
export MANPAGER="less -X"
# highlight section titles in manual pages
export LESS_TERMCAP_md="${yellow}"

# python
export PYENV_ROOT="$HOME/.pyenv"
export PYENV_VIRTUALENVWRAPPER_PREFER_PYVENV="true"
if which pyenv-virtualenv-init > /dev/null; then eval "$(pyenv virtualenv-init -)"; fi

# go
export GOPATH=$HOME/.go
export GO111MODULE=on

# nvm
export NVM_LAZY_LOAD=true
export NVM_DIR="$HOME/.nvm"
[ -e "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh"  # This loads nvm
[ -s "$NVM_DIR/bash_completion" ] && \. "$NVM_DIR/bash_completion"  # This loads nvm bash_completion

if [[ "$OSTYPE" == "darwin"* ]]; then
  source "$HOME/Code/dot/zsh/zshenv.mac"
else
  source "$HOME/Code/dot/zsh/zshenv.linux"
fi

# local config
[[ -f "$HOME/Code/dot/zsh/zshenv.local" ]] && source "$HOME/Code/dot/zsh/zshenv.local"
. "$HOME/.cargo/env"
